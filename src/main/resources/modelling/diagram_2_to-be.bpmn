<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.11.3">
  <bpmn:collaboration id="Collaboration_0q1e2k4">
    <bpmn:participant id="Participant_1ixue06" name="Health Insurance" processRef="Insurance-request-workflow" />
    <bpmn:participant id="Participant_0fyh0cq" name="Customer" processRef="Process_15n0e7j" />
    <bpmn:messageFlow id="MessageFlow_0z8ln57" name="Request-insrunce-online" sourceRef="Participant_0fyh0cq" targetRef="StartEvent_1" />
  </bpmn:collaboration>
  <bpmn:process id="Insurance-request-workflow" isExecutable="true">
    <bpmn:laneSet>
      <bpmn:lane id="Lane_0fzv8w1" name="Chatbot">
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_10d92yl</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_0yuv8gc</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0qg8vi6" name="System">
        <bpmn:flowNodeRef>Task_1o642tj</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_05sja2e</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_00d4fkl</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_02jgqxs</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_15icet2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_027y9hs</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0kdk1hq" name="Expert">
        <bpmn:flowNodeRef>Task_1422eoe</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="SequenceFlow_1f4cvpm" sourceRef="StartEvent_1" targetRef="Task_10d92yl" />
    <bpmn:sequenceFlow id="SequenceFlow_0hzjf01" sourceRef="Task_10d92yl" targetRef="Task_0yuv8gc" />
    <bpmn:startEvent id="StartEvent_1" name="Insurance-request" camunda:initiator="Message-Insurance-request">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="Name" label="Name" type="string" />
          <camunda:formField id="Birthday" label="Birthday" type="date" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_1f4cvpm</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1y0qwtl" />
    </bpmn:startEvent>
    <bpmn:userTask id="Task_10d92yl" name="ask for personal data" camunda:candidateGroups="Chatbot">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="Gender" label="Gender" type="enum">
            <camunda:value id="Value_2tpd71l" name="female" />
            <camunda:value id="Value_1fmfng0" name="male" />
          </camunda:formField>
          <camunda:formField id="Name" label="Name" type="string" />
          <camunda:formField id="FirstName" label="FirstName" type="string" />
          <camunda:formField id="age" label="Age" type="long" defaultValue="0" />
          <camunda:formField id="ZipCode" label="ZipCode" type="long" />
          <camunda:formField id="addictions" label="Addictions" type="enum" defaultValue="none">
            <camunda:value id="Smoker" name="Smoker" />
            <camunda:value id="DrugAbuse" name="DrugAbuse" />
            <camunda:value id="Alcohol" name="Alcohol" />
            <camunda:value id="none" name="none" />
          </camunda:formField>
          <camunda:formField id="healthConditions" label="Health Conditions" type="enum" defaultValue="none">
            <camunda:value id="none" name="None" />
            <camunda:value id="weakImmunSystem" name="Weak Immun System" />
            <camunda:value id="cancer" name="Cancer" />
            <camunda:value id="geneticalDefects" name="Genetical Defects" />
            <camunda:value id="other" name="Other" />
          </camunda:formField>
          <camunda:formField id="surgery" label="Surgery" type="long" defaultValue="0" />
          <camunda:formField id="drugs" label="Drugs" type="boolean" defaultValue="false" />
          <camunda:formField id="bmi" label="BMI" type="long" defaultValue="22" />
          <camunda:formField id="sport" label="Activity Level (Sport)" type="long" defaultValue="2" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1f4cvpm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0hzjf01</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Task_0yuv8gc" name="evaluate customer need">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="Model" label="Model" type="enum">
            <camunda:value id="Value_0omu3e2" name="Telmed" />
            <camunda:value id="Value_1l2n29r" name="Family-doctor / HMO" />
            <camunda:value id="Value_38oscqq" name="Free choice of doctor" />
          </camunda:formField>
          <camunda:formField id="Accident" label="Accident" type="enum">
            <camunda:value id="Value_0eae7ie" name="with" />
            <camunda:value id="Value_25r9nsi" name="without" />
          </camunda:formField>
          <camunda:formField id="hospitalisation" label="Hospitalisation" type="enum">
            <camunda:value id="general" name="general" />
            <camunda:value id="semi-private" name="semi-private" />
            <camunda:value id="private" name="private" />
          </camunda:formField>
          <camunda:formField id="supplementaryInsurance" label="SupplementaryInsurance" type="enum">
            <camunda:value id="Light" name="Light" />
            <camunda:value id="Classic" name="Classic" />
            <camunda:value id="MedicalPrivate" name="Medical Private" />
            <camunda:value id="None" name="None" />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0hzjf01</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1nyjnzs</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1nyjnzs" sourceRef="Task_0yuv8gc" targetRef="Task_1o642tj" />
    <bpmn:businessRuleTask id="Task_1o642tj" name="assess customer need" camunda:resultVariable="riskCheckNeeded" camunda:decisionRef="decision_risk_check" camunda:mapDecisionResult="singleEntry">
      <bpmn:incoming>SequenceFlow_1nyjnzs</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_165xtbx</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_05sja2e" name="interest in additional coverage?">
      <bpmn:incoming>SequenceFlow_165xtbx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0jf8hel</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1ot23do</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_165xtbx" sourceRef="Task_1o642tj" targetRef="ExclusiveGateway_05sja2e" />
    <bpmn:sequenceFlow id="SequenceFlow_0jf8hel" name="no" sourceRef="ExclusiveGateway_05sja2e" targetRef="Task_15icet2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${riskCheckNeeded == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1ot23do" name="yes" sourceRef="ExclusiveGateway_05sja2e" targetRef="Task_00d4fkl">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${riskCheckNeeded == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:businessRuleTask id="Task_00d4fkl" name="evaluate risk analysis" camunda:resultVariable="riskDecision" camunda:decisionRef="risk_analysis" camunda:mapDecisionResult="singleEntry">
      <bpmn:incoming>SequenceFlow_1ot23do</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16b5f1q</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="SequenceFlow_1wzmyls" sourceRef="Task_15icet2" targetRef="EndEvent_027y9hs" />
    <bpmn:sequenceFlow id="SequenceFlow_16b5f1q" sourceRef="Task_00d4fkl" targetRef="ExclusiveGateway_02jgqxs" />
    <bpmn:sequenceFlow id="SequenceFlow_1t5bg6n" sourceRef="Task_1422eoe" targetRef="Task_15icet2" />
    <bpmn:userTask id="Task_1422eoe" name="define special conditions">
      <bpmn:incoming>SequenceFlow_19gesxd</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1t5bg6n</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_02jgqxs" name="unclear risk level">
      <bpmn:incoming>SequenceFlow_16b5f1q</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_19gesxd</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1xkfg87</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_19gesxd" name="yes" sourceRef="ExclusiveGateway_02jgqxs" targetRef="Task_1422eoe">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression"><![CDATA[${riskDecision == "declined"}]]></bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:task id="Task_15icet2" name="create offer">
      <bpmn:incoming>SequenceFlow_0jf8hel</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1t5bg6n</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1xkfg87</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wzmyls</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="SequenceFlow_1xkfg87" name="no" sourceRef="ExclusiveGateway_02jgqxs" targetRef="Task_15icet2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression"><![CDATA[${riskDecision == "accept"}]]></bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_027y9hs">
      <bpmn:incoming>SequenceFlow_1wzmyls</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:process id="Process_15n0e7j" isExecutable="false">
    <bpmn:laneSet />
  </bpmn:process>
  <bpmn:message id="Message_1y0qwtl" name="Message_Insurance-request" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0q1e2k4">
      <bpmndi:BPMNShape id="Participant_1ixue06_di" bpmnElement="Participant_1ixue06">
        <dc:Bounds x="-120" y="181" width="1808" height="829" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0fyh0cq_di" bpmnElement="Participant_0fyh0cq">
        <dc:Bounds x="-116" y="-9" width="1801" height="154" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0fzv8w1_di" bpmnElement="Lane_0fzv8w1">
        <dc:Bounds x="-90" y="181" width="1778" height="267" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0qg8vi6_di" bpmnElement="Lane_0qg8vi6">
        <dc:Bounds x="-90" y="448" width="1778" height="341" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0z8ln57_di" bpmnElement="MessageFlow_0z8ln57">
        <di:waypoint xsi:type="dc:Point" x="-26" y="145" />
        <di:waypoint xsi:type="dc:Point" x="-26" y="238" />
        <di:waypoint xsi:type="dc:Point" x="9" y="238" />
        <di:waypoint xsi:type="dc:Point" x="9" y="331" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="-21" y="202" width="90" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1f4cvpm_di" bpmnElement="SequenceFlow_1f4cvpm">
        <di:waypoint xsi:type="dc:Point" x="28" y="349" />
        <di:waypoint xsi:type="dc:Point" x="57" y="349" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="-2.5" y="327.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0hzjf01_di" bpmnElement="SequenceFlow_0hzjf01">
        <di:waypoint xsi:type="dc:Point" x="157" y="349" />
        <di:waypoint xsi:type="dc:Point" x="199" y="349" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="133" y="327.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="StartEvent_191yjrs_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="-8" y="331" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="-34" y="367" width="89" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0f93vps_di" bpmnElement="Task_10d92yl">
        <dc:Bounds x="57" y="309" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0cplu3m_di" bpmnElement="Task_0yuv8gc">
        <dc:Bounds x="199" y="309" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0kdk1hq_di" bpmnElement="Lane_0kdk1hq">
        <dc:Bounds x="-90" y="789" width="1778" height="221" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1nyjnzs_di" bpmnElement="SequenceFlow_1nyjnzs">
        <di:waypoint xsi:type="dc:Point" x="249" y="389" />
        <di:waypoint xsi:type="dc:Point" x="249" y="437" />
        <di:waypoint xsi:type="dc:Point" x="249" y="437" />
        <di:waypoint xsi:type="dc:Point" x="249" y="486" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="219" y="430.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BusinessRuleTask_0gut0xe_di" bpmnElement="Task_1o642tj">
        <dc:Bounds x="199" y="486" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_05sja2e_di" bpmnElement="ExclusiveGateway_05sja2e" isMarkerVisible="true">
        <dc:Bounds x="343.423197492163" y="613.8448275862069" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="343" y="667" width="52" height="37" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_165xtbx_di" bpmnElement="SequenceFlow_165xtbx">
        <di:waypoint xsi:type="dc:Point" x="299" y="526" />
        <di:waypoint xsi:type="dc:Point" x="368" y="526" />
        <di:waypoint xsi:type="dc:Point" x="368" y="614" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="333.5" y="504" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_15icet2_di" bpmnElement="Task_15icet2">
        <dc:Bounds x="814" y="599" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0jf8hel_di" bpmnElement="SequenceFlow_0jf8hel">
        <di:waypoint xsi:type="dc:Point" x="393" y="639" />
        <di:waypoint xsi:type="dc:Point" x="420" y="639" />
        <di:waypoint xsi:type="dc:Point" x="420" y="485" />
        <di:waypoint xsi:type="dc:Point" x="864" y="485" />
        <di:waypoint xsi:type="dc:Point" x="864" y="599" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="633.5" y="467.48477157360406" width="13" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ot23do_di" bpmnElement="SequenceFlow_1ot23do">
        <di:waypoint xsi:type="dc:Point" x="393" y="639" />
        <di:waypoint xsi:type="dc:Point" x="628" y="639" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="501.5" y="617" width="18" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BusinessRuleTask_0ludn3u_di" bpmnElement="Task_00d4fkl">
        <dc:Bounds x="628" y="599" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1wzmyls_di" bpmnElement="SequenceFlow_1wzmyls">
        <di:waypoint xsi:type="dc:Point" x="914" y="639" />
        <di:waypoint xsi:type="dc:Point" x="983" y="639" />
        <di:waypoint xsi:type="dc:Point" x="983" y="538" />
        <di:waypoint xsi:type="dc:Point" x="1051" y="538" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="953" y="582" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_16b5f1q_di" bpmnElement="SequenceFlow_16b5f1q">
        <di:waypoint xsi:type="dc:Point" x="678" y="679" />
        <di:waypoint xsi:type="dc:Point" x="678" y="717" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="693" y="691.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1t5bg6n_di" bpmnElement="SequenceFlow_1t5bg6n">
        <di:waypoint xsi:type="dc:Point" x="728" y="880" />
        <di:waypoint xsi:type="dc:Point" x="864" y="880" />
        <di:waypoint xsi:type="dc:Point" x="864" y="679" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="796" y="858.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_03jdj0w_di" bpmnElement="Task_1422eoe">
        <dc:Bounds x="628" y="840" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_02jgqxs_di" bpmnElement="ExclusiveGateway_02jgqxs" isMarkerVisible="true">
        <dc:Bounds x="653" y="717.0148448043185" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="561" y="727" width="82" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_19gesxd_di" bpmnElement="SequenceFlow_19gesxd">
        <di:waypoint xsi:type="dc:Point" x="678" y="767" />
        <di:waypoint xsi:type="dc:Point" x="678" y="840" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="684" y="797" width="18" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1xkfg87_di" bpmnElement="SequenceFlow_1xkfg87">
        <di:waypoint xsi:type="dc:Point" x="703" y="742" />
        <di:waypoint xsi:type="dc:Point" x="758" y="742" />
        <di:waypoint xsi:type="dc:Point" x="758" y="639" />
        <di:waypoint xsi:type="dc:Point" x="814" y="639" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="767" y="684" width="13" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_03s4ibr_di" bpmnElement="EndEvent_027y9hs">
        <dc:Bounds x="1051" y="520" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1024" y="559" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
